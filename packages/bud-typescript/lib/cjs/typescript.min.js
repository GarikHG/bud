/**
 * @roots/bud-typescript v.2.0.0-next.0 {@link undefined}
 *
 * Adds Typescript support to Bud.
 *
 * Issues? {@link https://github.com/roots/bud/issues}
 *
 * Consider funding our work 🙏🏽 {@link https://github.com/sponsors/roots}
 *
 * @copyright 2020 Roots {@link https://roots.io}
 * @license MIT
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("path");const s=require.resolve("ts-loader"),t=e=>({test:/\.(ts|tsx)$/,exclude:e.patterns.get("vendor"),use:[{loader:s,options:{configFile:e.configs.get("typescript")}}]});exports.typescript=s=>({bud:s,name:"typescript",make:function(){const s=e.join(this.bud.project("tsconfig.json"));this.bud.fs.existsSync(s)&&(!this.bud.options.get("resolve.extensions").includes(".ts")&&this.bud.options.set("resolve.extensions",[...this.bud.options.get("resolve.extensions"),".ts"]),!this.bud.options.get("resolve.extensions").includes(".tsx")&&this.bud.options.set("resolve.extensions",[...this.bud.options.get("resolve.extensions"),".tsx"]),this.bud.rules.repository=[...this.bud.rules.repository,t])}});
